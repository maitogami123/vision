<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet"/>
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./themify-icons/themify-icons.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.4/pagination.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.4/pagination.css"/>
    <link rel="stylesheet" href="./css/style.css"/>
    <title>Visson</title>
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="header__main">
          <div class="header__main-logo">
            <a href="./index.html" style="padding: 15px"
              ><img
                src="./img/logo.svg"
                alt=""/></a>
          </div>
          <div class="header__main-search">
            <div class="input-search">
              <div class="input-wrapper">
                <input
                  type="text"
                  class="input "
                  id="search-input"
                  placeholder="Nhập sản phẩm bạn muốn tìm kiếm"
                />
                <button class="btn" id="search-btn">Tìm Kiếm</button>
              </div>
              <ul id="search-box">
              </ul>
            </div>
            <div class="interac">
              <a href=""><span class="ti-headphone-alt"> </span>Liên Hệ</a>
              <a href="./giohang.html">
                <span class="ti-shopping-cart-full"> </span>Giỏ Hàng</a
              >
            </div>
            <div class="accout" id="log-and-reg">
              <a href="./login.html" class="login"
                ><i class="ti-user"> </i>Đăng Nhập</a
              >
              <a href="./regis.html" class="regis"
                ><i class="ti-pencil-alt"></i> Đăng Ký</a
              >
            </div>
            <ul class="accout accout__login hide" id="user-section">
                    <li> <a href="" class="user-name"><i class="ti-user"></i></a>
                        <ul class="accout__menu">
                            <li>
                                <a href="./quanlydonhangnguoidung.html"><i class="ti-shopping-cart-full"></i>Quản lý đơn hàng</a>
                            </li>
                            <li>
                              <a href="./admin.html" class="to-admin hide"><i class="ti-settings"></i>Vào trang admin</a>
                            </li>
                            <li>
                                <a href="" id="logout-btn">Thoát <i class="ti-arrow-right"></i></a>
                            </li>
                        </ul>
                    </li>
            </ul>
          </div>
        </div>
      </div>
    </header>
    <nav class="nav">
      <a href="#">Bảng Giá Sản Phẩm</a>
      <a href="#">Trả Góp</a>
      <a href="#">Kiểm Tra Bảo Hành</a>
      <a href="./baohanh.html">Điều Khoản</a>
      <a href="#">Liên Hệ</a>
    </nav>
    <main>
      <section class = "product-wrapper">
        <div class="container">
          <div class="product__header" style="margin-top: 20px;">
            <h2 class="heading --h2" >Danh sách sản phẩm</h2>
            <div class="btn__list">
              <button class="btnfilter" id="ascending">Giá từ thấp đến cao</button>
              <button class="btnfilter" id="descending">Giá từ cao đến thấp</button>
            </div>
          </div>
        </div>
        <div id="data-container"></div>
        <div id="pagination"></div>
      </section>
    </main>
    <div class="contact">
      <a href="tel:"><img src="./img/icon-phone-s2.svg" alt=""></a>
      <a href=""><img src="./img/icon-mail-s2.svg" alt=""></a>
      <a href=""><img src="./img/icon-map-s2.svg" alt=""></i></a>
      <a href=""><img src="./img/icon-fanpage-s2.svg" alt=""></i></a>
    </div>

    <!-- footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer__content">
          <div class="footer__content-item support">
            <span>Hỗ trợ khách hàng</span>
            <a href="">Thẻ ưu đãi</a>
            <a href="">Trung tâm bảo hành</a>
            <a href="">Thanh toán và giao hàng</a>
            <a href="">Dịch vụ sửa chữa và bảo trì</a>
            <a href="">Doanh nghiệp thân thiết</a>
          </div>
          <div class="footer__content-item policy">
            <span>Chính sách Mua hàng và Bảo hành</span>
            <a href="">Quy định chung</a>
            <a href="">Chính sách Bảo mật Thông tin</a>
            <a href="">Chính sách Vận chuyển và Lắp đặt</a>
            <a href="">Chính sách bảo hành</a>
            <a href="">Chính sách đổi trả va hoàn tiền</a>
            <a href="">Quy định giá cả và hình thức thanh toán</a>
            <a href="">Chính sách trả góp</a>
          </div>
          <div class="footer__content-item social">
            <span>Cộng đồng Vision</span>
            <a href=""><i class="ti-facebook"></i> Facebook Vision</a>
            <a href=""><i class="ti-youtube"></i> YouTube Vision</a>
            <a href="tel:"><i class="ti-headphone"></i> Liên hệ mua hàng</a>
          </div>
          <div class="footer__content-item infor">
            <span>Thông tin liên hệ</span>
            <a href="">pham.kietred@gmail.com</a>
            <a href="">pham.kietred@gmail.com</a>
            <a href="">pham.kietred@gmail.com</a>
          </div>
        </div>
        <div class="footer__infor">
          <div class="footer__infor-logo">
            <a href="" class="logo"
              ><img
                src="./img/bmw_logo_preview.jpg"
                style="max-width: 50px; max-height: 50px"
                alt=""
            /></a>
            <h3 class="--h3">CÔNG TY CỔ PHẦN THƯƠNG MẠI - DỊCH VỤ VISION</h3>
          </div>
          <div class="footer__infor-address">
            <div class="address-item">
              <span>Địa chỉ trụ sở chính: </span><br />
              <a href="https://goo.gl/maps/WcASpsQL7adHyME26"
                ><i class="ti-location-pin"></i> 273 An Dương Vương, Quận 5, TP.HCM</a
              >
            </div>
            <div class="address-item">
              <span>Địa chỉ trụ sở 1: </span><br />
              <a href=""><i class="ti-location-pin"></i> 105 Bà Huyện Thanh Quan, Quận 3, TP.HCM</a>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <script src="./js/search.js"></script>
    <script src="./js/index.js"></script>
    <script src="./js/section.js"></script>
    <script src="./js/utilities.js"></script>
    <script>
      let products = JSON.parse(localStorage.getItem('searchProduct'));
      renderProduct(products);
      const ascendingBtn = document.getElementById('ascending');
      const descendingBtn = document.getElementById('descending');
      ascendingBtn.addEventListener('click', () => {
        products.sort((a, b) => a.price - b.price);
        renderProduct(products);
      })
      descendingBtn.addEventListener('click', () => {
        products.sort((a, b) => b.price - a.price);
        renderProduct(products);
      })
      function renderProduct(products) {
        if (products) {
          $( () => {
            let container = $('#pagination');
              container.pagination({
                  dataSource: [
                      ...products,
                  ],
                  pageSize: 10,
                  callback: function (data, pagination) {
                      var dataHtml = '<ul class="container product-list product-list--page">';
                      $.each(data, function (index, product) {
                          dataHtml += `
                              <li>
                                <a href="#" onClick="viewProduct('${product.id}')" class="product-item" >
                                  <img src="${product.img}" class="product-item__img" alt="${product.name}">
                                  <h1 class="product-item__name">${product.name}</h1>
                                  <p class="product-item__price">${formatPrice(product.price)}</p>
                                </a>
                              </li>
                          `;
                      });
                      dataHtml += '</ul>';
                      $("#data-container").html(dataHtml);
                  }
              })
          })
        }
      }

    </script>
  </body>
 
</html>